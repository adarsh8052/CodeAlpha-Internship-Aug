import random

# List of words to choose from
words = ["apple", "banana", "cherry", "date", "elderberry", "fig", "grape"]

def get_random_word():
    """
    Get a random word from the list
    """
    return random.choice(words)

def play_hangman():
    """
    Play a game of Hangman
    """
    word = get_random_word()
    guessed_letters = []
    incorrect_guesses = 0
    max_incorrect_guesses = 6

    # Create a blank spaces representation of the word
    blank_spaces = ["_"] * len(word)

    print("Welcome to Hangman!")
    print(" ".join(blank_spaces))

    while True:
        # Get the player's guess
        guess = input("Guess a letter: ").lower()

        # Check if the guess is valid
        if len(guess) != 1:
            print("Please guess a single letter!")
            continue
        if guess in guessed_letters:
            print("You already guessed that letter!")
            continue
        guessed_letters.append(guess)

        # Check if the guess is correct
        if guess in word:
            print("Good guess!")
            for i in range(len(word)):
                if word[i] == guess:
                    blank_spaces[i] = guess
        else:
            print("Incorrect guess!")
            incorrect_guesses += 1
            print(f"You have {max_incorrect_guesses - incorrect_guesses} guesses left.")

        # Print the updated blank spaces
        print(" ".join(blank_spaces))

        # Check if the player has won or lost
        if "_" not in blank_spaces:
            print("Congratulations, you won!")
            break
        elif incorrect_guesses >= max_incorrect_guesses:
            print(f"Game over! The word was {word}.")
            break

def main():
    """
    Main program loop
    """
    while True:
        play_hangman()
        play_again = input("Play again? (y/n): ").lower()
        if play_again != "y":
            break

if __name__ == "__main__":
    main()
